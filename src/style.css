/* Base Styles */
:root {
	/* Color Scheme */
	--bg-dark: #0a0a0f;
	--bg-panel: rgb(20 20 30 / 90%);
	--text-primary: #f0f0f0;
	--text-secondary: #b0b0b0;
	--accent-primary: #4fc3f7;
	--accent-secondary: #ff7043;
	--flavor-electron: #2196f3;
	--flavor-muon: #ff5722;
	--flavor-tau: #9c27b0;
	--border: rgb(255 255 255 / 10%);
}

/* Layout */
html,
body {
	margin: 0;
	padding: 0;
	width: 100%;
	height: 100%;
	overflow: hidden;
	background: var(--bg-dark);
	color: var(--text-primary);
	font-family: "Fira Mono", monospace;
}

/* Overlay Panel Base Styles */
.overlay-panel {
	position: absolute;
	background: var(--bg-panel);
	border-radius: 8px;
	padding: 12px;
	z-index: 100;
	border: 1px solid var(--border);
	box-shadow: 0 4px 16px rgb(0 0 0 / 30%);
	backdrop-filter: blur(8px);
}

/* Top Control Overlay */
#top-overlay {
	top: 20px;
	left: 20px;
	right: 20px;
	display: flex;
	flex-wrap: wrap;
	gap: 12px;
	align-items: center;
	padding: 10px 16px;
	background: rgb(20 20 30 / 95%);
}

#top-overlay > div {
	background: rgb(30 30 40 / 70%);
	padding: 6px 10px;
	border-radius: 6px;
}

#top-overlay label {
	margin-right: 6px;
	font-size: 0.9rem;
	color: var(--text-secondary);
}

#top-overlay input[type="range"] {
	width: 80px;
	margin-right: 6px;
}

/* Probability Plot Canvas */
#prob-plot-canvas {
	bottom: 20px;
	left: 50%;
	transform: translateX(-50%);
	width: 500px;
	height: 120px;
	background: rgb(20 20 30 / 90%);
	border: 1px solid rgb(255 255 255 / 10%);
	box-shadow: 0 2px 10px rgb(0 0 0 / 30%);
}

/* Flavor Label */
#neutrino-flavor-label {
	top: 80px;
	right: 20px;
	font-size: 1.2rem;
	font-weight: bold;
	padding: 8px 16px;
	background: rgb(20 20 30 / 90%);
	border-radius: 6px;
	text-align: center;
	min-width: 120px;
	z-index: 200;
}

/* Mixing Parameters Panel */
#mixing-params-panel {
	bottom: 20px;
	right: 20px;
	max-height: 70vh;
	overflow-y: auto;
}

/* Main Visualization Canvas */
#p5-container {
	position: absolute;
	top: 0;
	left: 0;
	width: 100%;
	height: 100%;
	z-index: 0;
}

/* Control Panel */
.control-panel {
	position: absolute;
	background: var(--bg-panel);
	border-radius: 12px;
	box-shadow: 0 8px 24px rgb(0 0 0 / 50%);
	padding: 16px;
	z-index: 10;
	border: 1px solid var(--border);
	backdrop-filter: blur(8px);
}

.control-panel:hover {
	box-shadow: 0 8px 32px rgb(0 0 0 / 60%);
}

#top-controls {
	top: 30px;
	left: 30px;
	display: flex;
	gap: 24px;
	align-items: center;
	padding: 16px;
	min-width: 80%;
}

#top-controls > div {
	padding: 8px 12px;
	background: rgb(30 30 40 / 70%);
	border-radius: 8px;
}

#mixing-panel {
	bottom: 20px;
	right: 20px;
	max-height: 70vh;
	overflow-y: auto;
}

/* Plot Panel */
#plot-panel {
	position: absolute;
	bottom: 30px;
	left: 50%;
	transform: translateX(-50%);
	width: 600px;
	height: 150px;
	background: var(--bg-panel);
	border-radius: 12px;
	padding: 12px;
	border: 1px solid var(--border);
	box-shadow: 0 8px 32px rgb(0 0 0 / 50%);
	backdrop-filter: blur(4px);
}

/* UI Components */
.button {
	background: transparent;
	border: 1px solid var(--accent-primary);
	color: var(--accent-primary);
	padding: 6px 12px;
	border-radius: 4px;
	cursor: pointer;
	transition: all 0.2s;
}

.button:hover {
	background: rgb(79 195 247 / 10%);
}

.input-group {
	display: flex;
	align-items: center;
	gap: 8px;
}

/* Flavor Label */
.flavor-label {
	position: absolute;
	top: 30px;
	right: 30px;
	background: var(--bg-panel);
	padding: 12px 24px;
	border-radius: 12px;
	font-weight: bold;
	font-size: 1.2rem;
	box-shadow: 0 4px 16px rgb(0 0 0 / 40%);
	border: 1px solid var(--border);
	min-width: 120px;
	text-align: center;
}

/* Responsive */
@media (width <= 768px) {
	#top-controls {
		flex-wrap: wrap;
		width: calc(100% - 40px);
	}

	#plot-panel {
		width: calc(100% - 40px);
	}
}
